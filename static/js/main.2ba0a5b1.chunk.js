(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{13:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__ckIn4",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__3YOcU"}},15:function(e,t,a){e.exports={Overlay:"Modal_Overlay__29omW",Modal:"Modal_Modal__3hTk-"}},26:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1rIZo"}},28:function(e,t,a){e.exports={Button:"Button_Button__2ja_f"}},29:function(e,t,a){e.exports={App:"App_App__2P3Rx"}},34:function(e,t,a){},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__2pgaq",SearchForm:"Searchbar_SearchForm__2twN9",SearchFormButton:"Searchbar_SearchFormButton__2mBAt",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__18hQM",SearchFormInput:"Searchbar_SearchFormInput__1Uig4"}},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),s=(a(34),a(12)),u=a.n(s),i=a(16),l=a(25),m=a(4),b=a(5),j=a.n(b),h=a(1),g=function(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(m.a)(a,2),c=r[0],o=r[1];return Object(h.jsx)("header",{className:j.a.Searchbar,children:Object(h.jsxs)("form",{className:j.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()&&(t(c),o(""))},children:[Object(h.jsx)("button",{type:"submit",className:j.a.SearchFormButton,children:Object(h.jsx)("span",{className:j.a.SearchFormButtonLabel,children:"Search"})}),Object(h.jsx)("input",{className:j.a.SearchFormInput,type:"text",name:"query",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){o(e.target.value)}})]})})},f=a(13),O=a.n(f),p=function(e){e.id;var t=e.webformatURL,a=e.largeImageURL,n=e.tags,r=e.onClick;return Object(h.jsx)("li",{className:O.a.ImageGalleryItem,children:Object(h.jsx)("img",{src:t,alt:n,className:O.a.ImageGalleryItemImage,onClick:function(){return r(a)}})},n)},d=a(26),_=a.n(d),S=function(e){var t=e.images,a=e.onClick;return Object(h.jsx)("ul",{className:_.a.ImageGallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,r=e.largeImageURL,c=e.tags;return Object(h.jsx)(p,{id:t,onClick:a,webformatURL:n,largeImageURL:r,tags:c},t)}))})},x=a(14),I=a.n(x);I.a.defaults.baseURL="https://pixabay.com/api/";var v=function(e){var t=e.searchQuery,a=void 0===t?"":t,n=e.currentPage,r=void 0===n?1:n;return I.a.get("?key=".concat("22709546-f5c1ca5c0881bb53c54fd0f13","&q=").concat(a,"&page=").concat(r,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))},y=a(27),k=a.n(y),w=a(28),F=a.n(w),L=function(e){var t=e.onClick;return Object(h.jsx)("button",{className:F.a.Button,type:"button",onClick:t,children:"Load more"})},B=a(15),N=a.n(B),C=document.querySelector("#modalRoot"),G=function(e){var t=e.toggleModal,a=e.largeImageURL,r=e.tag;Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(c.createPortal)(Object(h.jsx)("div",{className:N.a.Overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(h.jsx)("div",{className:N.a.Modal,children:Object(h.jsx)("img",{src:a,alt:r})})}),C)},R=a(29),U=a.n(R),M=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(1),o=Object(m.a)(c,2),s=o[0],b=o[1],j=Object(n.useState)(""),f=Object(m.a)(j,2),O=f[0],p=f[1],d=Object(n.useState)(!1),_=Object(m.a)(d,2),x=_[0],I=_[1],y=Object(n.useState)(null),w=Object(m.a)(y,2),F=w[0],B=w[1],N=Object(n.useState)(!1),C=Object(m.a)(N,2),R=C[0],M=C[1],E=Object(n.useState)(""),q=Object(m.a)(E,2),A=q[0],P=q[1],J=Object(n.useState)(""),Q=Object(m.a)(J,2),T=Q[0];Q[1];Object(n.useEffect)((function(){if(O){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(O);case 3:t=e.sent,I(!0),a.length>0&&(r((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t))})),B(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),B(!0);case 11:return e.prev=11,I(!1),e.finish(11);case 14:case 15:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}}),[O,s,a.length]);var z=function(){return M(!R)},D=a.length>0&&!x;return Object(h.jsxs)("div",{className:U.a.container,children:[Object(h.jsx)(g,{onSubmit:function(e){r([]),p(e),b(1),B(null)}}),F&&Object(h.jsxs)("h2",{children:["Sorry something went wrong, try again later!(",F.message,")"]}),Object(h.jsx)(S,{images:a,onClick:function(){P(A),z()}}),x&&Object(h.jsx)(k.a,{type:"Puff",color:"#00BFFF",height:100,width:100}),D&&Object(h.jsx)(L,{onClick:function(){b((function(e){return e+1}))}}),R&&Object(h.jsx)(G,{onClose:z,largeImageURL:A,tag:T})]})};o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(M,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.2ba0a5b1.chunk.js.map